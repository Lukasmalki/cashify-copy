<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Booleans</title>
</head>
<body>

    <p>Sten sax påse</p>

    <button onclick="
    playGame('Sten');
    ">Sten</button>

    <button onclick="
    playGame('Sax');
    ">Sax</button>

    <button onclick="
    playGame('Påse');
    ">Påse</button>

    <button onclick="
        score.vinster = 0;
        score.förluster = 0;
        score.oavgjorda = 0;
        localStorage.removeItem('score');
    ">Börja om</button>

    <script>

        let score = JSON.parse(localStorage.getItem('score')) || {
                vinster: 0,
                förluster: 0,
                oavgjorda: 0
            };

        function playGame(playerMove) {
            const computerMove = pickComputerMove();

            let result = '';

            if (playerMove === 'Sten') {
            if (computerMove === 'Sten') {
                result = 'Oavgjort.';
            } else if (computerMove === 'Sax') {
                result = 'Du vinner.';
            } else if (computerMove === 'Påse') {
                result = 'Du förlorar.';
            }

        } else if (playerMove === 'Sax') {
            if (computerMove === 'Sten') {
                result = 'Du förlorar.';
            } else if (computerMove === 'Sax') {
                result = 'Oavgjort.';
            } else if (computerMove === 'Påse') {
                result = 'Du vinner.';
            }

        } else if (playerMove === 'Påse') {
            if (computerMove === 'Sten') {
                result = 'Du vinner.';
            } else if (computerMove === 'Sax') {
                result = 'Du förlorar.';
            } else if (computerMove === 'Påse') {
                result = 'Oavgjort.';
            }
        }

            if (result === 'Du vinner.') {
                score.vinster += 1;
            } else if (result === 'Du förlorar.') {
                score.förluster += 1;
            } else if (result === 'Oavgjort.') {
                score.oavgjorda += 1;
            }

            localStorage.setItem('score', JSON.stringify(score));

alert(`Du valde ${playerMove}. Datorn valde ${computerMove}. ${result}
Vinster: ${score.vinster}, Förluster: ${score.förluster}, Oavgjorda: ${score.oavgjorda}`);
        }

        function pickComputerMove() {
            const randomNumber = Math.random();
            
            let computerMove = '';

            if (randomNumber >= 0 && randomNumber < 1/3) {
                computerMove = 'Sten';
            } else if (randomNumber >= 1/3 && randomNumber < 2/3) {
                computerMove = 'Sax';
            } else if (randomNumber >= 2/3 && randomNumber < 1) {
                computerMove = 'Påse';
            }

            return (computerMove);
        }
    </script>

</body>
</html>